### FastAPI Template API 테스트
### 기본 URL 설정 (필요시 수정)
@baseUrl = http://localhost:8000

### ============================================
### 기본 엔드포인트
### ============================================

### 헬로우 월드
GET {{baseUrl}}/
Content-Type: application/json

### ============================================
### 사용자 관리 API
### ============================================

### 1. 사용자 생성
POST {{baseUrl}}/users/
Content-Type: application/json

{
  "emlAddr": "nihil_ncunia@naver.com",
  "userNm": "NIHILncunia",
  "password": "IU0516jej08*",
  "userRole": "ADMIN"
}

### 1-1. 사용자 생성 (이메일 중복 테스트용 - 위 요청 후 실행)
POST {{baseUrl}}/users/
Content-Type: application/json

{
  "emlAddr": "test@example.com",
  "userNm": "김철수",
  "password": "password456",
  "userRole": "USER"
}

### 1-2. 사용자 생성 (사용자명 중복 테스트용 - 위 요청 후 실행)
POST {{baseUrl}}/users/
Content-Type: application/json

{
  "emlAddr": "test2@example.com",
  "userNm": "홍길동",
  "password": "password789",
  "userRole": "USER"
}

### 1-3. 사용자 생성 (유효하지 않은 이메일 형식 테스트)
POST {{baseUrl}}/users/
Content-Type: application/json

{
  "emlAddr": "invalid-email",
  "userNm": "이영희",
  "password": "password123",
  "userRole": "USER"
}

### ============================================
### 2. 사용자 목록 조회
### ============================================

GET {{baseUrl}}/users/
Content-Type: application/json

### ============================================
### 3. 사용자 번호로 조회
### ============================================

### 3-1. 사용자 조회 (존재하는 사용자)
GET {{baseUrl}}/users/1
Content-Type: application/json

### 3-2. 사용자 조회 (존재하지 않는 사용자)
GET {{baseUrl}}/users/999
Content-Type: application/json

### ============================================
### 4. 이메일로 사용자 조회
### ============================================

### 4-1. 이메일로 조회 (존재하는 사용자)
GET {{baseUrl}}/users/email/test@example.com
Content-Type: application/json

### 4-2. 이메일로 조회 (존재하지 않는 사용자)
GET {{baseUrl}}/users/email/notfound@example.com
Content-Type: application/json

### ============================================
### 5. 사용자 정보 수정
### ============================================

### 5-1. 사용자 정보 수정 (일부 필드만)
PATCH {{baseUrl}}/users/1
Content-Type: application/json

{
  "userNm": "홍길동 수정",
  "userBiogp": "안녕하세요, 수정된 소개입니다."
}

### 5-2. 사용자 정보 수정 (이메일 변경)
PATCH {{baseUrl}}/users/1
Content-Type: application/json

{
  "emlAddr": "updated@example.com"
}

### 5-3. 사용자 정보 수정 (존재하지 않는 사용자)
PATCH {{baseUrl}}/users/999
Content-Type: application/json

{
  "userNm": "존재하지 않는 사용자"
}

### 5-4. 사용자 정보 수정 (사용자명 중복 테스트)
PATCH {{baseUrl}}/users/2
Content-Type: application/json

{
  "userNm": "홍길동 수정"
}

### 5-5. 사용자 정보 수정 (비밀번호 변경)
PATCH {{baseUrl}}/users/1
Content-Type: application/json

{
  "password": "newpassword123"
}

### ============================================
### 6. 사용자 삭제
### ============================================

### 6-1. 단건 삭제
DELETE {{baseUrl}}/users/
Content-Type: application/json

{
  "userNo": 1
}

### 6-2. 다건 삭제
DELETE {{baseUrl}}/users/
Content-Type: application/json

{
  "userNoList": [2]
}

### 6-3. 다건 삭제 (일부 존재하지 않는 사용자 포함)
DELETE {{baseUrl}}/users/
Content-Type: application/json

{
  "userNoList": [5, 999, 1000]
}

### 6-4. 삭제 - 필수값 누락 (정상 응답으로 처리됨)
DELETE {{baseUrl}}/users/
Content-Type: application/json

{
}

### 6-5. 삭제 - userNo와 userNoList 동시 제공 (정상 응답으로 처리됨)
DELETE {{baseUrl}}/users/
Content-Type: application/json

{
  "userNo": 1,
  "userNoList": [2, 3]
}

### 6-6. 삭제 - 빈 userNoList (정상 응답으로 처리됨)
DELETE {{baseUrl}}/users/
Content-Type: application/json

{
  "userNoList": []
}

### 6-7. 삭제 - 존재하지 않는 사용자 (단건)
DELETE {{baseUrl}}/users/
Content-Type: application/json

{
  "userNo": 999
}

### 6-8. 삭제 - 존재하지 않는 사용자 (다건)
DELETE {{baseUrl}}/users/
Content-Type: application/json

{
  "userNoList": [999, 1000]
}

### ============================================
### 테스트 시나리오
### ============================================

### 시나리오 1: 전체 CRUD 플로우
### 1. 사용자 생성
POST {{baseUrl}}/users/
Content-Type: application/json

{
  "emlAddr": "scenario@example.com",
  "userNm": "시나리오 사용자",
  "password": "password123",
  "userRole": "USER"
}

### 2. 생성된 사용자 조회 (응답에서 userNo 확인)
GET {{baseUrl}}/users/email/scenario@example.com
Content-Type: application/json

### 3. 사용자 정보 수정 (위에서 확인한 userNo 사용)
PATCH {{baseUrl}}/users/{{$dotenv.USER_NO}}
Content-Type: application/json

{
  "userNm": "시나리오 사용자 수정",
  "userBiogp": "시나리오 테스트 중입니다."
}

### 4. 수정된 사용자 확인
GET {{baseUrl}}/users/{{$dotenv.USER_NO}}
Content-Type: application/json

### 5. 사용자 삭제
DELETE {{baseUrl}}/users/
Content-Type: application/json

{
  "userNo": {{$dotenv.USER_NO}}
}

### 6. 삭제 확인 (NOT_FOUND 응답 확인)
GET {{baseUrl}}/users/{{$dotenv.USER_NO}}
Content-Type: application/json

